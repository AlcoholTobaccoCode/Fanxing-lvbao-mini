# 错误码与 HTTP 状态一览

> 20251207

| 错误码                           | HTTP 状态 | 默认提示                    | 来源                                                                                                                                                        |
| -------------------------------- | --------- | --------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `Admin.User.InvalidType`         | 400       | 非法的用户类型              | `400` @ service/AdminService.py:183 (ServiceError)                                                                                                          |
| `Admin.User.NoChanges`           | 400       | 未提供可更新字段            | `400` @ service/AdminService.py:191 (ServiceError)                                                                                                          |
| `Chat.Token.InvalidUserId`       | 400       | 缺少有效的用户 ID           | `400` @ service/ChatService.py:28 (ServiceError)                                                                                                            |
| `HTTPException`                  | 400       |                             | `400` @ app/main.py:46 (fail)                                                                                                                               |
| `Law.Consult.Empty`              | 400       | 咨询内容不能为空            | `400` @ service/LawService.py:182 (ServiceError)                                                                                                            |
| `Law.Doc.MissingContent`         | 400       | 缺少 content                | `400` @ service/LawService.py:46 (ServiceError)<br>`400` @ service/LawService.py:120 (ServiceError)                                                         |
| `Law.Summary.MissingContent`     | 400       | 缺少 content                | `400` @ service/LawService.py:77 (ServiceError)                                                                                                             |
| `Lawyer.Review.InvalidAction`    | 400       | 非法的审核动作              | `400` @ service/AdminService.py:57 (ServiceError)                                                                                                           |
| `Lawyer.Review.MissingReason`    | 400       | 拒绝申请时必须填写原因      | `400` @ service/AdminService.py:65 (ServiceError)                                                                                                           |
| `Lawyer.Sms.SceneInvalid`        | 400       | 不支持的短信场景            | `400` @ service/LawyerService.py:39 (ServiceError)                                                                                                          |
| `Lawyer.SmsCode.Invalid`         | 400       | 短信验证码错误或已过期      | `400` @ service/LawyerService.py:48 (ServiceError)                                                                                                          |
| `User.Profile.NoChanges`         | 400       | 未提供可更新的字段          | `400` @ service/UserService.py:308 (ServiceError)                                                                                                           |
| `User.Register.MissingPhone`     | 400       | 请输入手机号                | `400` @ service/UserService.py:130 (ServiceError)                                                                                                           |
| `User.Sms.SceneInvalid`          | 400       | 不支持的短信场景            | `400` @ service/UserService.py:161 (ServiceError)                                                                                                           |
| `User.Sms.TooFrequent`           | 400       | 发送频率过高，请稍后重试    | `400` @ service/UserService.py:168 (ServiceError)                                                                                                           |
| `User.SmsCode.Invalid`           | 400       | 请正确输入验证码            | `400` @ service/UserService.py:72 (ServiceError)<br>`400` @ service/UserService.py:108 (ServiceError)                                                       |
| `User.Credentials.Invalid`       | 401       | 请正确输入手机号、密码      | `401` @ service/UserService.py:44 (ServiceError)                                                                                                            |
| `User.Token.Invalid`             | 401       | Token is invalid or expired | `401` @ router/user/UserRouter.py:77 (fail)                                                                                                                 |
| `Admin.PermissionDenied`         | 403       | 无权限访问                  | `403` @ service/AdminService.py:125 (ServiceError)                                                                                                          |
| `Admin.User.NotFound`            | 404       | 用户不存在                  | `404` @ service/AdminService.py:145 (ServiceError)<br>`404` @ service/AdminService.py:159 (ServiceError)                                                    |
| `Lawyer.Info.NotFound`           | 404       | 尚未提交律师认证            | `404` @ service/AdminService.py:96 (ServiceError)<br>`404` @ service/LawyerService.py:70 (ServiceError)                                                     |
| `Question.NotFound`              | 404       | 问题不存在                  | `404` @ service/QuestionService.py:49 (ServiceError)                                                                                                        |
| `User.Login.PhoneNotFound`       | 404       | 手机号未注册                | `404` @ service/UserService.py:80 (ServiceError)                                                                                                            |
| `User.Message.NotFound`          | 404       | 记录不存在                  | `404` @ service/UserService.py:227 (ServiceError)<br>`404` @ service/UserService.py:264 (ServiceError)                                                      |
| `User.Message.UserNotFound`      | 404       | 用户不存在                  | `404` @ service/UserService.py:360 (ServiceError)                                                                                                           |
| `User.Profile.NotFound`          | 404       | 用户不存在                  | `404` @ service/UserService.py:279 (ServiceError)<br>`404` @ service/UserService.py:293 (ServiceError)                                                      |
| `Admin.User.PhoneExists`         | 409       | 手机号已存在                | `409` @ service/AdminService.py:175 (ServiceError)                                                                                                          |
| `User.Register.PhoneExists`      | 409       | 手机号已注册                | `409` @ service/UserService.py:124 (ServiceError)                                                                                                           |
| `Request.ValidationError`        | 422       | 请求参数校验失败            | `422` @ app/main.py:53 (fail)                                                                                                                               |
| `Law.Consult.Unavailable`        | 500       | 服务暂时不可用              | `500` @ service/LawService.py:189 (ServiceError)                                                                                                            |
| `Lawyer.Recommend.RedisError`    | 500       | 推荐失败，缓存访问异常      | `500` @ service/LawyerService.py:93 (ServiceError)                                                                                                          |
| `User.Message.ParseError`        | 500       | 消息解析失败                | `500` @ service/UserService.py:236 (ServiceError)                                                                                                           |
| `User.Message.RedisError`        | 500       | 消息保存失败                | `500` @ service/UserService.py:211 (ServiceError)<br>`500` @ service/UserService.py:257 (ServiceError)<br>`500` @ service/UserService.py:331 (ServiceError) |
| `User.Register.Unknown`          | 500       | 注册失败，请稍后重试        | `500` @ service/UserService.py:135 (ServiceError)                                                                                                           |
| `User.Sms.RedisError`            | 500       | 验证码生成失败              | `500` @ service/UserService.py:179 (ServiceError)                                                                                                           |
| `AliVoice.Token.InvalidResponse` | 502       | 阿里云返回了非法的 JSON     | `502` @ service/AliVoiceService.py:77 (ServiceError)                                                                                                        |
| `AliVoice.Token.MissingField`    | 502       | 响应中缺少 Token 字段       | `502` @ service/AliVoiceService.py:85 (ServiceError)                                                                                                        |
| `AliVoice.Token.RequestFailed`   | 502       | 阿里云语音 Token 获取失败   | `502` @ service/AliVoiceService.py:68 (ServiceError)                                                                                                        |
| `AliVoice.Token.Unknown`         | 502       | 获取语音 Token 失败         | `502` @ router/utils/StsRouter.py:54 (fail)                                                                                                                 |
| `Aliyun.STS.Failed`              | 502       | 获取阿里云 STS 凭证失败     | `502` @ router/utils/StsRouter.py:23 (fail)<br>`502` @ router/utils/StsRouter.py:29 (fail)                                                                  |
| `User.Sms.SendFailed`            | 502       | 发送失败，请稍后重试        | `502` @ service/UserService.py:190 (ServiceError)                                                                                                           |
